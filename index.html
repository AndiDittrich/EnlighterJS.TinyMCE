<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>EnlighterJS TinyMCE Demo</title>

    <!-- just for styling !-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    <style type="text/css">
        textarea{
            display: block;
            width: 100%;
            min-height: 600px;
            border: dotted 1px #505050;
        }

    </style>

    <script type="text/javascript">/* <![CDATA[ */
    EnlighterJS_EditorConfig = {
        "languages": {
            "CSS (Cascading Style Sheets)": "css",
            "HTML (Hypertext Markup Language)": "html",
            "Java": "java",
            "Javascript": "js",
            "JSON": "json",
            "Markdown": "md",
            "PHP": "php",
            "Python": "python",
            "Ruby": "ruby",
            "Shell Script": "shell",
            "SQL": "sql",
            "XML": "xml",
            "C": "c",
            "C++": "cpp",
            "C#": "csharp",
            "RUST": "rust",
            "LUA": "lua",
            "Matlab": "matlab",
            "NSIS": "nsis",
            "Diff": "diff",
            "VHDL": "vhdl",
            "Avr Assembly": "avrasm",
            "Generic Assembly": "asm",
            "Squirrel": "squirrel",
            "Ini\/Conf Syntax": "ini",
            "RAW Code": "raw",
            "No Highlighting": "no-highlight",
            "Generic Highlighting": "generic"
        },
        "themes": {
            "WPCustom": "wpcustom",
            "Enlighter": "enlighter",
            "Godzilla": "godzilla",
            "Beyond": "beyond",
            "Classic": "classic",
            "MooTwo": "mootwo",
            "Eclipse": "eclipse",
            "Droide": "droide",
            "Minimal": "minimal",
            "Atomic": "atomic",
            "Rowhammer": "rowhammer",
            "Git": "git",
            "Mocha": "mocha",
            "MooTools": "mootools",
            "Panic": "panic",
            "Tutti": "tutti",
            "Twilight": "twilight"
        },
        "config": {
            "theme": "wpcustom",
            "language": "",
            "linenumbers": true,
            "indent": 2,
            "tabIndentation": true,
            "quicktagMode": "html",
            "languageShortcode": true,
            "shortcuts": true
        },
        "tinymce": {
            "keyboardShortcuts": true
        }
    };
    /* ]]> */</script>
    <script src="https://cdn.tinymce.com/4/tinymce.min.js"></script>
    <script type="text/javascript">
        function _domready(){
            // initialize TinyMCE
            tinymce.init({

                // paste plugin is required to strip pasted wysiwyg content (drop formats!)
                plugins: 'paste',
                external_plugins: {
                    'enlighterjs': '/dist/enlighterjs.tinymce.min.js'
                },

                content_css: "/dist/enlighterjs.tinymce.min.css",

                selector: '#editor1',

                menubar: false,
                height: 1200,

                toolbar: 'styleselect | bold italic | link image | pastetext | EnlighterInsert EnlighterEdit'
            });

            // toggle Visual Editor
            document.getElementById('toggle_editor').addEventListener('click', function(){
                tinymce.EditorManager.execCommand('mceToggleEditor', true, 'editor1');
            })
        }

    </script>
</head>
<body>

    <div class="container">

        <div class="py-5 text-center">
            <h2>EnlighterJS TinyMCE Demo</h2>
            <p class="lead">Official EnlighterJS Plugin for TinyMCE | <a href="https://github.com/EnlighterJS/Plugin.TinyMCE" target="_new">GitHub Repository</a></a></p>
            <button type="button" id="toggle_editor" class="btn btn-primary btn-lg">Toggle Editor</button>
        </div>

<textarea id="editor1">Post and Edit Sourcecode in TinyMCE smoothly - Initially created as component of Enlighter Wordpress Plugin

<pre class="EnlighterJSRAW">
// get the enlighter settings of the current selected node
var getCodeblockSettings = function () {

    // get current node
    var node = editor.selection.getNode();

    // enlighter element ?
    if (!isEnlighterCode(node)) {
        return {};
    }

    // get linenumber attribute (null: not set | true/false)
    var ln = node.getAttribute('data-enlighter-linenumbers');

    // generate config
    return {
        language: node.getAttribute('data-enlighter-language'),
        linenumbers: (ln == null ? _enlighterjs_config.config.linenumbers : (ln == 'true')),
        highlight: node.getAttribute('data-enlighter-highlight'),
        lineoffset: node.getAttribute('data-enlighter-lineoffset'),
        theme: node.getAttribute('data-enlighter-theme'),
        group: node.getAttribute('data-enlighter-group'),
        title: node.getAttribute('data-enlighter-title')
    };
};
</pre>

</textarea>

</div>
<script type="text/javascript">
if (typeof _domready === 'function'){
    _domready.apply(window, [window, document]);
}
</script>
</body>
</html>