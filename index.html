<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EnlighterJS TinyMCE Demo</title>

    <style type="text/css">
        textarea{
            display: block;
            width: 100%;
            min-height: 600px;
            border: dotted 1px #505050;
        }

    </style>

    <script type="text/javascript">/* <![CDATA[ */
    EnlighterJS_EditorConfig = {
        "languages": {
            "CSS (Cascading Style Sheets)": "css",
            "HTML (Hypertext Markup Language)": "html",
            "Java": "java",
            "Javascript": "js",
            "JSON": "json",
            "Markdown": "md",
            "PHP": "php",
            "Python": "python",
            "Ruby": "ruby",
            "Shell Script": "shell",
            "SQL": "sql",
            "XML": "xml",
            "C": "c",
            "C++": "cpp",
            "C#": "csharp",
            "RUST": "rust",
            "LUA": "lua",
            "Matlab": "matlab",
            "NSIS": "nsis",
            "Diff": "diff",
            "VHDL": "vhdl",
            "Avr Assembly": "avrasm",
            "Generic Assembly": "asm",
            "Squirrel": "squirrel",
            "Ini\/Conf Syntax": "ini",
            "RAW Code": "raw",
            "No Highlighting": "no-highlight",
            "Generic Highlighting": "generic"
        },
        "themes": {
            "WPCustom": "wpcustom",
            "Enlighter": "enlighter",
            "Godzilla": "godzilla",
            "Beyond": "beyond",
            "Classic": "classic",
            "MooTwo": "mootwo",
            "Eclipse": "eclipse",
            "Droide": "droide",
            "Minimal": "minimal",
            "Atomic": "atomic",
            "Rowhammer": "rowhammer",
            "Git": "git",
            "Mocha": "mocha",
            "MooTools": "mootools",
            "Panic": "panic",
            "Tutti": "tutti",
            "Twilight": "twilight"
        },
        "config": {
            "theme": "wpcustom",
            "language": "",
            "linenumbers": true,
            "indent": 2,
            "tabIndentation": true,
            "quicktagMode": "html",
            "languageShortcode": true
        }
    };
    /* ]]> */</script>
    <script type='text/javascript' src='//code.jquery.com/jquery-2.2.4.min.js'></script>
    <script src="//cdn.tinymce.com/4/tinymce.min.js"></script>
    <script type="text/javascript">

        // toggle Visual Editor
        jQuery(function(jq){
            jq('#toggle_editor').on('click', function(){
                tinymce.EditorManager.execCommand('mceToggleEditor', true, 'editor1');
            })
        });

        // initialize TinyMCE
        tinymce.init({

            // paste plugin is required to strip pasted wysiwyg content (drop formats!)
            plugins: 'paste',
            external_plugins: {
                'enlighterjs': '/dist/EnlighterJS.TinyMCE.js'
            },

            content_css: "/dist/EnlighterJS.TinyMCE.min.css",

            selector: '#editor1',

            menubar: false,
            height: 1200,

            toolbar: 'styleselect | bold italic | link image | pastetext | EnlighterInsert EnlighterEdit'
        });

    </script>
</head>
<body>

<button type="button" id="toggle_editor">Toggle Editor</button>

<textarea id="editor1">Post and Edit Sourcecode in TinyMCE smoothly - Initially created as component of Enlighter Wordpress Plugin

<pre class="EnlighterJSRAW">
// get the enlighter settings of the current selected node
var getCodeblockSettings = function () {

    // get current node
    var node = editor.selection.getNode();

    // enlighter element ?
    if (!isEnlighterCode(node)) {
        return {};
    }

    // get linenumber attribute (null: not set | true/false)
    var ln = node.getAttribute('data-enlighter-linenumbers');

    // generate config
    return {
        language: node.getAttribute('data-enlighter-language'),
        linenumbers: (ln == null ? _enlighterjs_config.config.linenumbers : (ln == 'true')),
        highlight: node.getAttribute('data-enlighter-highlight'),
        lineoffset: node.getAttribute('data-enlighter-lineoffset'),
        theme: node.getAttribute('data-enlighter-theme'),
        group: node.getAttribute('data-enlighter-group'),
        title: node.getAttribute('data-enlighter-title')
    };
};
</pre>

</textarea>

</body>
</html>